import{f as a,g as c}from"./index-6977c039.js";import{T as i}from"./Toast-7f9d768d.js";import{s as n}from"./statusStore-c4463d47.js";const o=n(),{VITE_API:u,VITE_PATH:g}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/cafe_backend/",MODE:"production",DEV:!1,PROD:!0},l=a("products",{state:()=>({products:[],categories:["全部商品","淺焙咖啡","中焙咖啡","深焙咖啡","周邊商品"],filterCategory:"全部商品"}),actions:{getProducts(){o.isLoading=!0,c.get(`${u}/api/${g}/products/all`).then(t=>{o.isLoading=!1;const{products:r}=t.data;this.products=r}).catch(t=>{var e,s;o.isLoading=!1;const r=((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"資料取得失敗，稍後在試";i.fire({title:`${r}`,icon:"error"})})},changeCategory(t){this.filterCategory=t}},getters:{filterProducts:t=>t.products.filter(e=>t.filterCategory==="全部商品"?t.products:e.category===t.filterCategory)}});export{l as p};

import{m as k,a as V,_ as b,r as _,o as c,c as n,d as m,b as e,w as P,e as g,t as r,p as T,F as p,l as v,q as d,k as L,s as I}from"./index-6977c039.js";import{T as w}from"./Toast-7f9d768d.js";import{c as D}from"./cartStore-c7bb9114.js";import{s as E}from"./statusStore-c4463d47.js";const{VITE_API:S,VITE_PATH:q}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/cafe_backend/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{product:{},qty:1,isProcessing:!1,isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:i}=this.$route.params;this.$http.get(`${S}/api/${q}/product/${i}`).then(o=>{this.isLoading=!1;const{product:l}=o.data;this.product=l}).catch(o=>{var a,t;const l=((t=(a=o.response)==null?void 0:a.data)==null?void 0:t.message)||"資料錯誤";this.isLoading=!1,w.fire({title:`${l}`,icon:"error"})})},...k(D,["addToCart"])},computed:{...V(E,["loadingItem"])},mounted(){this.getProduct()}},C={"aria-label":"breadcrumb"},U={class:"breadcrumb"},B={class:"breadcrumb-item"},N={class:"breadcrumb-item active","aria-current":"page"},x={class:"mb-3"},M={class:"row"},z={class:"col-sm-5"},F={key:0,class:"row"},H={class:"col-3"},O=["src","alt"],R={class:"col-sm-7"},j={class:"badge bg-primary rounded-pill mb-2"},G={key:0},J={key:1},K=e("li",null,"熟豆重量：227g ± 2g",-1),Q=e("li",null,"保存期限：30 天",-1),W={class:"h5"},X={class:"input-group mt-5 w-75"},Y=["value"],Z={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function $(i,o,l,a,t,f){const u=_("VueLoading"),y=_("router-link");return c(),n("div",null,[m(u,{active:t.isLoading,"onUpdate:active":o[0]||(o[0]=s=>t.isLoading=s)},null,8,["active"]),e("nav",C,[e("ol",U,[e("li",B,[m(y,{to:"/products"},{default:P(()=>[g("全部商品")]),_:1})]),e("li",N,r(t.product.title),1)])]),e("h2",x,r(t.product.title),1),e("div",M,[e("div",z,[e("div",{style:T([{"min-height":"50vh","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),(c(!0),n(p,null,v(t.product.imagesUrl,(s,h)=>(c(),n(p,{key:h+"img"},[s?(c(),n("div",F,[e("div",H,[e("img",{src:s,alt:h+"img",class:"card-image mt-2 w-100"},null,8,O)])])):d("",!0)],64))),128))]),e("div",R,[e("span",j,r(t.product.category),1),e("p",null,"商品描述："+r(t.product.description),1),t.product.content?(c(),n("p",G,"商品內容："+r(t.product.content),1)):d("",!0),t.product.category!=="周邊商品"?(c(),n("ul",J,[e("li",null,"產地："+r(t.product.country),1),e("li",null,"產區："+r(t.product.area),1),e("li",null,"處理方法："+r(t.product.production),1),K,Q])):d("",!0),e("div",W,r(i.$filters.currency(t.product.price))+" 元 / "+r(t.product.unit),1),e("div",X,[L(e("select",{class:"form-select",name:"qty","onUpdate:modelValue":o[1]||(o[1]=s=>t.qty=s)},[(c(),n(p,null,v(5,s=>e("option",{value:s,key:s+"num"},r(s),9,Y)),64))],512),[[I,t.qty,void 0,{number:!0}]]),e("button",{type:"button",class:"btn btn-primary",onClick:o[2]||(o[2]=s=>i.addToCart(t.product.id,t.qty))},[t.product.id===i.loadingItem?(c(),n("span",Z)):d("",!0),g(" 加入購物車 ")])])])])])}const tt=b(A,[["render",$]]),et={data(){return{}},components:{ProductDetail:tt}},ot={class:"container mt-5"};function st(i,o,l,a,t,f){const u=_("ProductDetail");return c(),n("div",ot,[m(u)])}const lt=b(et,[["render",st]]);export{lt as default};

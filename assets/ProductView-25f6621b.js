import{m as y,a as b,_ as g,r as h,o as n,c,d as v,b as o,t as r,l as k,F as a,j as _,p as l,q as V,v as P,e as T}from"./index-6fd02e4d.js";import{T as L}from"./Toast-8690d0f6.js";import{c as I}from"./cartStore-9e6066c3.js";import{s as D}from"./statusStore-6119fa29.js";const{VITE_API:E,VITE_PATH:S}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/cafe_backend/",MODE:"production",DEV:!1,PROD:!0},q={data(){return{product:{},qty:1,isProcessing:!1,isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:i}=this.$route.params;this.$http.get(`${E}/api/${S}/product/${i}`).then(e=>{this.isLoading=!1;const{product:d}=e.data;this.product=d}).catch(e=>{var u;const d=(u=e.data)==null?void 0:u.message;this.isLoading=!1,L.fire({title:`${d}`,icon:"error"})})},...y(I,["addToCart"])},computed:{...b(D,["loadingItem"])},mounted(){this.getProduct()}},A={class:"mt-5"},w={class:"row"},C={class:"col-sm-5"},U={key:0,class:"row"},B={class:"col-3"},N=["src","alt"],x={class:"col-sm-7"},M={class:"badge bg-primary rounded-pill mb-2"},z={key:0},F={class:"h5"},H={class:"input-group mt-5"},O=["value"],R={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function j(i,e,d,u,t,f){const p=h("VueLoading");return n(),c(a,null,[v(p,{active:t.isLoading,"onUpdate:active":e[0]||(e[0]=s=>t.isLoading=s)},null,8,["active"]),o("div",A,[o("h2",null,r(t.product.title),1),o("div",w,[o("div",C,[o("div",{style:k([{"min-height":"50vh","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),(n(!0),c(a,null,_(t.product.imagesUrl,(s,m)=>(n(),c(a,{key:m+"img"},[s?(n(),c("div",U,[o("div",B,[o("img",{src:s,alt:m+"img",class:"card-image mt-2 w-100"},null,8,N)])])):l("",!0)],64))),128))]),o("div",x,[o("span",M,r(t.product.category),1),o("p",null,"商品描述："+r(t.product.description),1),t.product.content?(n(),c("p",z,"商品內容："+r(t.product.content),1)):l("",!0),t.product.category!=="周邊商品"?(n(),c(a,{key:1},[o("p",null,"產地："+r(t.product.country),1),o("p",null,"產區："+r(t.product.area),1),o("p",null,"處理方法："+r(t.product.production),1)],64)):l("",!0),o("div",F,r(t.product.price)+" 元 / "+r(t.product.unit),1),o("div",H,[V(o("select",{class:"form-select",name:"qty","onUpdate:modelValue":e[1]||(e[1]=s=>t.qty=s)},[(n(),c(a,null,_(5,s=>o("option",{value:s,key:s+"num"},r(s),9,O)),64))],512),[[P,t.qty,void 0,{number:!0}]]),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=s=>i.addToCart(t.product.id,t.qty))},[t.product.id===i.loadingItem?(n(),c("span",R)):l("",!0),T(" 加入購物車 ")])])])])])],64)}const G=g(q,[["render",j]]),J={data(){return{}},components:{ProductDetail:G}},K={class:"container"};function Q(i,e,d,u,t,f){const p=h("ProductDetail");return n(),c("div",K,[v(p)])}const $=g(J,[["render",Q]]);export{$ as default};

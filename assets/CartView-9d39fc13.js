import{R as w,m as $,a as _,_ as m,r as f,o,c as n,b as t,i as r,F as x,l as k,t as a,d as l,w as u,e as h}from"./index-71aea837.js";import{c as b}from"./cartStore-18ad8c86.js";import{s as L}from"./statusStore-6ee57e95.js";import"./Toast-e0cddcce.js";const N={data(){return{}},components:{RouterLink:w},methods:{...$(b,["getCarts","updateCart","removeCartItem","deleteAllCarts"])},computed:{..._(b,["cart"]),..._(L,["isProcessing"])},mounted(){this.getCarts()}},j={key:0},q={class:"d-flex justify-content-between mb-5"},A=t("h2",{class:"mt-2 text-brown font-weight-bold"},"購物車",-1),R=t("i",{class:"bi bi-x-lg"},null,-1),S=[R],T=["src","alt"],V={class:"w-100 p-3 position-relative"},B=["onClick"],P=t("i",{class:"bi bi-x-lg"},null,-1),E=[P],F={class:"mb-0 fw-bold"},I={class:"mb-1 text-muted",style:{"font-size":"14px"}},z={class:"d-flex justify-content-between align-items-center w-100"},D={class:"input-group w-50 align-items-center"},M={class:"input-group-prepend pe-1"},U=["onClick","disabled"],G=t("i",{class:"bi bi-dash-lg"},null,-1),H=[G],J=["value"],K={class:"input-group-append ps-1"},O=["onClick","disabled"],Q=t("i",{class:"bi bi-plus"},null,-1),W=[Q],X={class:"mb-0 ms-auto"},Y={class:"table mt-4 text-muted"},Z=t("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"}," 小計 ",-1),tt={class:"text-end border-0 px-0 pt-0"},st={class:"d-flex justify-content-between mt-4"},et=t("p",{class:"mb-0 h4 fw-bold"},"總計",-1),ot={class:"mb-0 h4 fw-bold"},nt={key:1},at=t("h4",{class:"mt-5"},"購物車無商品，快去逛逛",-1);function it(e,c,y,v,g,C){var d;const i=f("RouterLink");return o(),n("div",null,[(d=e.cart.carts)!=null&&d.length?(o(),n("div",j,[t("div",q,[A,t("a",{href:"#",class:"fs-3",onClick:c[0]||(c[0]=r((...s)=>e.deleteAllCarts&&e.deleteAllCarts(...s),["prevent"]))},S)]),(o(!0),n(x,null,k(e.cart.carts,s=>(o(),n("div",{key:s.id,class:"d-flex mt-4 bg-light"},[t("img",{src:s.product.imageUrl,alt:s.product.title,class:"img-fluid",style:{width:"120px",height:"120px","object-fit":"cover"}},null,8,T),t("div",V,[t("a",{href:"#",onClick:r(p=>e.removeCartItem(s.id),["prevent"]),class:"position-absolute",style:{top:"16px",right:"16px"}},E,8,B),t("p",F,a(s.product.title),1),t("p",I,a(s.product.description),1),t("div",z,[t("div",D,[t("div",M,[t("button",{class:"btn btn-primary btn-sm",onClick:r(p=>e.updateCart(s,s.qty-1),["prevent"]),disabled:e.isProcessing||s.qty===1},H,8,U)]),t("input",{type:"text",class:"form-control form-control-sm border-0 text-center my-auto shadow-none bg-secondary px-0",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",readonly:"",value:s.qty},null,8,J),t("div",K,[t("button",{class:"btn btn-primary btn-sm",onClick:r(p=>e.updateCart(s,s.qty+1),["prevent"]),disabled:e.isProcessing||s.qty===5},W,8,O)])]),t("p",X,"NT$"+a(s.total),1)])])]))),128)),t("table",Y,[t("tbody",null,[t("tr",null,[Z,t("td",tt,"NT$"+a(e.cart.total),1)])])]),t("div",st,[et,t("p",ot,"NT$"+a(e.cart.final_total),1)]),l(i,{to:"/order",class:"btn btn-primary btn-block mt-4 rounded-0 py-3"},{default:u(()=>[h("確認訂單")]),_:1})])):(o(),n("div",nt,[at,l(i,{class:"btn btn-primary mt-5",to:"/products"},{default:u(()=>[h("選購去")]),_:1})]))])}const rt=m(N,[["render",it]]),ct={data(){return{}},components:{CartList:rt}},lt={class:"container my-5"},dt={class:"row justify-content-center"},pt={class:"col-md-6 py-5"};function _t(e,c,y,v,g,C){const i=f("CartList");return o(),n("div",lt,[t("div",dt,[t("div",pt,[l(i)])])])}const ft=m(ct,[["render",_t]]);export{ft as default};

import{m as k,a as V,_ as b,r as _,o as c,c as i,d as m,b as o,w as P,e as g,t as r,p as T,F as p,l as v,q as l,k as L,s as I}from"./index-fc1b60a1.js";import{T as w}from"./Toast-2c11397b.js";import{c as D}from"./cartStore-ae31ee09.js";import{s as E}from"./statusStore-aef80293.js";const{VITE_API:S,VITE_PATH:q}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/cafe_backend/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{product:{},qty:1,isProcessing:!1,isLoading:!1}},methods:{getProduct(){this.isLoading=!0;const{id:n}=this.$route.params;this.$http.get(`${S}/api/${q}/product/${n}`).then(e=>{this.isLoading=!1;const{product:a}=e.data;this.product=a}).catch(e=>{var d,t;const a=((t=(d=e.response)==null?void 0:d.data)==null?void 0:t.message)||"資料錯誤";this.isLoading=!1,w.fire({title:`${a}`,icon:"error"})})},...k(D,["addToCart"])},computed:{...V(E,["loadingItem"])},mounted(){this.getProduct()}},C={class:"vh-100"},U={"aria-label":"breadcrumb"},B={class:"breadcrumb"},N={class:"breadcrumb-item"},x={class:"breadcrumb-item active","aria-current":"page"},M={class:"mb-3"},z={class:"row"},F={class:"col-sm-5"},H={key:0,class:"row"},O={class:"col-3"},R=["src","alt"],j={class:"col-sm-7"},G={class:"badge bg-primary rounded-pill mb-2"},J={key:0},K={key:1},Q=o("li",null,"熟豆重量：227g ± 2g",-1),W=o("li",null,"保存期限：30 天",-1),X={class:"h5"},Y={class:"input-group mt-5 w-75"},Z=["value"],$={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function tt(n,e,a,d,t,f){const u=_("VueLoading"),y=_("router-link");return c(),i("div",C,[m(u,{active:t.isLoading,"onUpdate:active":e[0]||(e[0]=s=>t.isLoading=s)},null,8,["active"]),o("nav",U,[o("ol",B,[o("li",N,[m(y,{to:"/products"},{default:P(()=>[g("全部商品")]),_:1})]),o("li",x,r(t.product.title),1)])]),o("h2",M,r(t.product.title),1),o("div",z,[o("div",F,[o("div",{style:T([{"min-height":"50vh","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),(c(!0),i(p,null,v(t.product.imagesUrl,(s,h)=>(c(),i(p,{key:h+"img"},[s?(c(),i("div",H,[o("div",O,[o("img",{src:s,alt:h+"img",class:"card-image mt-2 w-100"},null,8,R)])])):l("",!0)],64))),128))]),o("div",j,[o("span",G,r(t.product.category),1),o("p",null,"商品描述："+r(t.product.description),1),t.product.content?(c(),i("p",J,"商品內容："+r(t.product.content),1)):l("",!0),t.product.category!=="周邊商品"?(c(),i("ul",K,[o("li",null,"產地："+r(t.product.country),1),o("li",null,"產區："+r(t.product.area),1),o("li",null,"處理方法："+r(t.product.production),1),Q,W])):l("",!0),o("div",X,r(n.$filters.currency(t.product.price))+" 元 / "+r(t.product.unit),1),o("div",Y,[L(o("select",{class:"form-select",name:"qty","onUpdate:modelValue":e[1]||(e[1]=s=>t.qty=s)},[(c(),i(p,null,v(5,s=>o("option",{value:s,key:s+"num"},r(s),9,Z)),64))],512),[[I,t.qty,void 0,{number:!0}]]),o("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=s=>n.addToCart(t.product.id,t.qty))},[t.product.id===n.loadingItem?(c(),i("span",$)):l("",!0),g(" 加入購物車 ")])])])])])}const ot=b(A,[["render",tt]]),et={data(){return{}},components:{ProductDetail:ot}},st={class:"container my-5"};function rt(n,e,a,d,t,f){const u=_("ProductDetail");return c(),i("div",st,[m(u)])}const dt=b(et,[["render",rt]]);export{dt as default};

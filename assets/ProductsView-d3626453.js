import{m as u,a as d,_,o as r,c as a,b as s,F as C,l as k,n as w,j as V,t as i,r as m,d as c,w as b,p as S,q as y,e as v}from"./index-fc1b60a1.js";import{p as n}from"./productsStore-a52535d4.js";import{s as P}from"./statusStore-aef80293.js";import{c as I}from"./cartStore-ae31ee09.js";import"./Toast-2c11397b.js";const N={data(){return{}},methods:{...u(n,["changeCategory"])},computed:{...d(n,["categories","filterCategory"])}},z={class:"col-md-2 mb-2 my-5"},B={class:"list-group"},T=["onClick"];function x(e,l,p,g,h,f){return r(),a("div",z,[s("ul",B,[(r(!0),a(C,null,k(e.categories,o=>(r(),a("li",{class:w(["list-group-item",{active:o===e.filterCategory}]),key:o,onClick:V(t=>e.changeCategory(o),["prevent"])},i(o),11,T))),128))])])}const F=_(N,[["render",x]]),U={data(){return{}},methods:{...u(n,["getProducts"]),...u(I,["addToCart"])},computed:{...d(n,["products","filterProducts"]),...d(P,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},j={class:"col-md-10 my-5"},q={class:"row"},A={class:"card border-0 shadow-sm h-100"},D={class:"card-body"},E={class:"badge bg-primary float-right ml-2"},M={class:"card-title"},G={href:"#",class:"text-dark"},H={class:"card-text"},J={class:"text-right pr-2"},K={class:"card-footer d-flex"},O={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Q=["onClick"],R={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function W(e,l,p,g,h,f){const o=m("router-link");return r(),a("div",j,[s("div",q,[(r(!0),a(C,null,k(e.filterProducts,t=>(r(),a("div",{class:"col-md-4 col-sm-6 mb-3 mb-4",key:t.id},[s("div",A,[c(o,{to:`/product/${t.id}`},{default:b(()=>[s("div",{style:S([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),_:2},1032,["to"]),s("div",D,[s("span",E,i(t.category),1),s("h5",M,[s("a",G,i(t.title),1)]),s("p",H,i(t.description),1),s("div",J,i(e.$filters.currency(t.price))+" 元 ",1)]),s("div",K,[c(o,{to:`/product/${t.id}`,class:"btn btn-outline-primary btn-sm"},{default:b(()=>[e.isProcessing?(r(),a("span",O)):y("",!0),v(" 查看更多 ")]),_:2},1032,["to"]),s("button",{type:"button",class:"btn btn-primary btn-sm ms-auto",onClick:$=>e.addToCart(t.id)},[t.id===e.loadingItem?(r(),a("span",R)):y("",!0),v(" 加到購物車 ")],8,Q)])])]))),128))])])}const X=_(U,[["render",W]]),Y={data(){return{}},components:{ProductCategory:F,ProductList:X},methods:{...u(n,["getProducts","changeCategory"])},computed:{...d(n,["products","categories","filterProducts","filterCategory"]),...d(P,["isLoading","loadingItem"])},mounted(){this.getProducts()}},Z={class:"container my-5"},tt={class:"row"};function st(e,l,p,g,h,f){const o=m("VueLoading"),t=m("ProductCategory"),$=m("ProductList");return r(),a("div",Z,[c(o,{active:e.isLoading,"onUpdate:active":l[0]||(l[0]=L=>e.isLoading=L)},null,8,["active"]),s("div",tt,[c(t),c($)])])}const it=_(Y,[["render",st]]);export{it as default};
